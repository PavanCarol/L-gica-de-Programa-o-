<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercício 1</title>
  </head>

  <body>
    <style>
      .game {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: space-around;
      }

      input {
        width: 40px;
      }
    </style>
    <script>
      var game = 0;
      var valores = [];
      var two = false;
      window.addEventListener("load", () => {
        const body = document.getElementsByTagName("body")[0];
        for (let i = 0; i < 14; i++) {
          var newDiv = document.createElement("div");
          newDiv.classList = `game ${i}`;
          for (let j = 0; j < 3; j++) {
            var input = document.createElement("input");
            input.type = "checkbox";
            input.classList = `check${i}`;
            newDiv.appendChild(input);
          }

          if (i == 0) newDiv.style.display = "block";
          else newDiv.style.display = "none";
          body.appendChild(newDiv);
        }
        var btn = document.createElement("button");
        btn.textContent = "Próximo jogo";

        btn.addEventListener("click", () => {
          let val = [];
          var checks = document.getElementsByClassName(`check${game}`);
          if (!checks[0].checked && !checks[1].checked && !checks[2].checked) {
            alert("Selecione ao menos 1");
            return;
          }
          if (checks[0].checked && checks[1].checked && checks[2].checked) {
            alert("Você perdeu!");
            location.reload();
            return;
          }
          for (let j = 0; j < checks.length; j++) {
            const element = checks[j];
            val.push(element.checked);
          }
          var um = 0;
          val.forEach((element) => {
            if (element) {
              um = um + 1;
            }
          });
          if (um == 2) {
            if (dois) {
              alert("Você perdeu");
              location.reload();
            }
            dois = true;
          }
          if (!dois && game == 2) {
            alert("Você perdeu");
            location.reload();
            return;
          }
          if (game == 13) {
            alert("Você ganhou");
            location.reload();
          }
          valores.push(val);

          game = game + 1;

          const inputsTotal = document.getElementsByTagName("div");
          for (let i = 0; i < inputsTotal.length; i++) {
            const element = inputsTotal[i];
            element.style.display = "none";
            if (i == game) element.style.display = "block";
          }
        });

        body.appendChild(btn);
      });
    </script>
  </body>
</html>
